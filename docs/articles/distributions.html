<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Distributing Surveys • QualtricsInR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Distributing Surveys">
<meta property="og:description" content="QualtricsInR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">QualtricsInR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Surveys
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/survey-responses.html">Exporting responses</a>
    </li>
    <li>
      <a href="../articles/surveys.html">Basic survey manipulations</a>
    </li>
    <li>
      <a href="../articles/survey-objects.html">Survey structure</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Distribution and Contacts
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/distributions.html">Survey distributions</a>
    </li>
    <li>
      <a href="../articles/research-core-contacts.html">Mailing lists</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Libraries
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/research-core-contacts.html">Contacts</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Brand Administration
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/divisions.html">Divisions</a>
    </li>
    <li>
      <a href="../articles/groups.html">Groups</a>
    </li>
    <li>
      <a href="../articles/users.html">Users</a>
    </li>
    <li>
      <a href="../articles/data-privacy.html">Data privacy</a>
    </li>
    <li>
      <a href="../articles/audit.html">Audit</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/">All Functions</a>
    </li>
    <li>
      <a href="../articles/progress_table.html">Progress</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ppssphysics/QualtricsInR">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="distributions_files/header-attrs-2.7/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Distributing Surveys</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ppssphysics/QualtricsInR/blob/master/vignettes/distributions.Rmd"><code>vignettes/distributions.Rmd</code></a></small>
      <div class="hidden name"><code>distributions.Rmd</code></div>

    </div>

    
    
<p>There is a vast number of distribution related operations you can automate through the Qualtrics API. In this package, we provide the following calls:</p>
<ul>
<li><code>list_distributions</code></li>
<li><code>get_distribution</code></li>
<li><code>delete_distribution</code></li>
<li><code>create_email_distribution</code></li>
<li><code>create_reminder_distribution</code></li>
<li><code>create_thankyou_distribution</code></li>
<li><code>generate_distribution_links</code></li>
<li><code>list_distribution_links</code></li>
<li><code>send_email_mailinglist</code></li>
</ul>
<p>A number of equivalent calls for sms based distributions are available. Although implemented in the packge, these functions are not yet made available to the user due to our inability to perform any kind of testing.</p>
<div id="sending-your-survey-through-an-anonymous-link" class="section level2">
<h2 class="hasAnchor">
<a href="#sending-your-survey-through-an-anonymous-link" class="anchor"></a>Sending your survey through an anonymous link</h2>
<p>The first important note to mention is that if you are only looking into distributing your survey through a unique public link, you simply need to retrieve the survey id and build the standard URL. For example, if your survey id is <em>SV_abpmKbFCC9hNLzD</em>, the publically accessible link for thge survey is <a href="https://data_center_id.qualtrics.com/jfe/form/SV_abpmKbFCC9hNLzD" class="uri">https://data_center_id.qualtrics.com/jfe/form/SV_abpmKbFCC9hNLzD</a> where <em>data_center_id</em> can be found in your organisation’s identification parameters (see <a href="https://api.qualtrics.com/v3/docs/api-general-instructions">official documentation</a>).</p>
</div>
<div id="scheduling-a-qualtrics-email-distribution" class="section level2">
<h2 class="hasAnchor">
<a href="#scheduling-a-qualtrics-email-distribution" class="anchor"></a>Scheduling a Qualtrics email distribution</h2>
<p>The method described below is a standard approach for people sending their survey to a predefined list of participants through the Qualtrics emailing service. The use of the API can facilitate the process of managing such distributions for multiple contact lists with different mailing strategies, for example.</p>
<p>To create a new email distribution, you will need to have created an email body, saved as a Qualtrics library item in your account (see functions <code>list_messages</code> and <code>create_message</code>). You will also need the id of the contact list to send the survey to (see functions <code>list_mailinglists</code> and <code>create_mailinglist</code>).</p>
<p>We show below a step-by-step process to set-up your first email distribution. First, we retrieve the account library id needed throughout all steps.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="../reference/list_libraries.html">list_libraries</a></span>()
<span class="co">#&gt; # A tibble: 2 × 2</span>
<span class="co">#&gt;   libraryId          libraryName      </span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;            </span>
<span class="co">#&gt; 1 UR_1Z96ysDAytOdL2l Qualtrics in R   </span>
<span class="co">#&gt; 2 GR_8jjjgh5XPTwmjit Qualtrics Library</span>
</pre></div>
<p>For a simple user account, you will usually have available the account library and the default Qualtrics library. You’ve probably saved your email message in your account library.</p>
<p>You can now list all messages available in the account:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/list_messages.html">list_messages</a></span>(<span class="st">"UR_1Z96ysDAytOdL2l"</span>)
<span class="co">#&gt; # A tibble: 3 × 3</span>
<span class="co">#&gt;   id                 description      category</span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;            &lt;chr&gt;   </span>
<span class="co">#&gt; 1 MS_1AMM3cE022E0rUF Invitation Email invite  </span>
<span class="co">#&gt; 2 MS_bvFkAsjp0Womse1 Thank You Email  thankYou</span>
<span class="co">#&gt; 3 MS_5oNdvwUJhJBHq5L Reminder Email   reminder</span>
</pre></div>
<p>We’ve prepared three messages to use in the example which we now know the id of. Obviously, we will first create the distribution using the <em>Invitation Email</em> message.</p>
<p>Finally, we need to retrieve the contact list id for the email recipients.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="../reference/list_mailinglists.html">list_mailinglists</a></span>()
<span class="co">#&gt; # A tibble: 2 × 5</span>
<span class="co">#&gt;   libraryId          id                 name                  category  folder  </span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;              &lt;chr&gt;                 &lt;chr&gt;     &lt;chr&gt;   </span>
<span class="co">#&gt; 1 UR_1Z96ysDAytOdL2l ML_1ZlloFpR0AOl2GV contacts_test_api     api_tests /api_te…</span>
<span class="co">#&gt; 2 GR_8jjjgh5XPTwmjit ML_eer9soMmLieCcuh y5r2 cc radio placem… Unassign… &lt;NA&gt;</span>
</pre></div>
<p>We will use the contact list <em>contacts_test_api</em>. Your can use the <code>list_surveys</code> function to retrieve the survey id for which you want to shcedule the distribution:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="../reference/list_surveys.html">list_surveys</a></span>()
<span class="co">#&gt; # A tibble: 9 × 6</span>
<span class="co">#&gt;   id                 name       ownerId    lastModified   creationDate  isActive</span>
<span class="co">#&gt;   &lt;chr&gt;              &lt;chr&gt;      &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;         &lt;lgl&gt;   </span>
<span class="co">#&gt; 1 SV_39rgGREdlmzH63X api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-10T0… TRUE    </span>
<span class="co">#&gt; 2 SV_3fmfHkdddhnRbKJ api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-11T0… FALSE   </span>
<span class="co">#&gt; 3 SV_6WpcSqtVBsibNcN api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-11T0… FALSE   </span>
<span class="co">#&gt; 4 SV_9Ak7vCha9W42Twp api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-11T0… FALSE   </span>
<span class="co">#&gt; 5 SV_aYwagyEbamVLpFX api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-11T0… FALSE   </span>
<span class="co">#&gt; 6 SV_blW4HuzdeqLiTJ3 api_expor… UR_1Z96ys… 2020-04-16T18… 2020-04-16T1… TRUE    </span>
<span class="co">#&gt; 7 SV_cScDRSV5hsN3YEd api_distr… UR_1Z96ys… 2020-06-10T08… 2020-04-16T0… TRUE    </span>
<span class="co">#&gt; 8 SV_elpspu2EuJXLEWx api_expor… UR_1Z96ys… 2020-04-16T18… 2020-04-16T1… TRUE    </span>
<span class="co">#&gt; 9 SV_esXQqpyoyNFeW69 api_copy_… UR_1Z96ys… 2020-06-11T08… 2020-06-11T0… FALSE</span>
</pre></div>
<p>We are now ready to create our email distribution:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">distribution_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_email_distribution.html">create_email_distribution</a></span>(
  <span class="st">"SV_cScDRSV5hsN3YEd"</span>, <span class="co"># survey id</span>
  <span class="st">"UR_1Z96ysDAytOdL2l"</span>, <span class="co"># library id</span>
  <span class="st">"MS_1AMM3cE022E0rUF"</span>, <span class="co"># email message id</span>
  <span class="st">"ML_1ZlloFpR0AOl2GV"</span>, <span class="co"># contact list id</span>
  <span class="st">"john.doe@qualtrics.com"</span>,  <span class="co"># sender email</span>
  <span class="st">"John Doe"</span>, <span class="co"># sender name</span>
  <span class="st">"Participate in this survey"</span>,  <span class="co"># email subject</span>
  <span class="st">"2022-04-01T00:00:00Z"</span> <span class="co"># send date</span>
    )
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw">distribution_id</span>)
<span class="co">#&gt; [1] "EMD_UHNZm9NI2Rc7yty"</span>
</pre></div>
<p>This call will return the id of the newly created distribution which allows you interact with the distribution: create a reminder distribution, schedule an thank you message, etc. Note that you can always recover the distribution id by listing all distributions using the <code>list_distributions</code> function.</p>
<p><strong>Note that our Qualtrics account may be set with a different time zone than your local environment. Make sure to specificy your date fields accordingly.</strong></p>
<p>There are a number of optional parameters you can find in the function documentation. It is important to note that by the default, the sender email will be set to <em><a href="mailto:noreply@qualtrics.com" class="email">noreply@qualtrics.com</a></em>. You can only use custom email address if your account is appropriately configured to do so (see <a href="https://www.qualtrics.com/support/survey-platform/distributions-module/email-distribution/using-a-custom-from-address/">qualtrics documentation</a>)</p>
<p>We can already schedule a reminder email for the survey using the <em>Reminder Email</em> email message id:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/create_reminder_distribution.html">create_reminder_distribution</a></span>(
  <span class="kw">distribution_id</span>, <span class="co"># parent distribution id</span>
  <span class="st">"UR_1Z96ysDAytOdL2l"</span>, <span class="co"># library id</span>
  <span class="st">"MS_5oNdvwUJhJBHq5L"</span>, <span class="co"># email message id</span>
  <span class="st">"Reminder - Participate to the survey"</span>, <span class="co"># email subject</span>
  <span class="st">"2022-04-08T00:00:00Z"</span> <span class="co"># send date</span>
)
<span class="co">#&gt; [1] "EMD_ZWgIdqY1F7HtI2c"</span>
</pre></div>
<p>Note that if you do not want to have to create the email message in Qualtrics before sending the email, the you can use the function <code>send_email_mailinglist</code>.</p>
</div>
<div id="exporting-personalized-links-from-qualtrics" class="section level2">
<h2 class="hasAnchor">
<a href="#exporting-personalized-links-from-qualtrics" class="anchor"></a>Exporting personalized links from Qualtrics</h2>
<p>You can also give an instruction for Qualtrics to generate personalized survey links for all contacts of a contact list. You can then export these links and distribute them through your own organization email service.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">distribution_links_id</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_distribution_links.html">generate_distribution_links</a></span>(<span class="st">"SV_cScDRSV5hsN3YEd"</span>, <span class="st">"ML_1ZlloFpR0AOl2GV"</span>, <span class="st">"Survey Respondents Generated Links"</span>)
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="kw">distribution_links_id</span>)
<span class="co">#&gt; [1] "EMD_7L2Z6BPlaGA9mcq"</span>
<span class="fu"><a href="../reference/list_distribution_links.html">list_distribution_links</a></span>(<span class="kw">distribution_links_id</span>, <span class="st">"SV_cScDRSV5hsN3YEd"</span>)
<span class="co">#&gt; # A tibble: 3 × 10</span>
<span class="co">#&gt;   contactId  link      exceededContact… linkExpiration status lastName firstName</span>
<span class="co">#&gt;   &lt;chr&gt;      &lt;chr&gt;     &lt;lgl&gt;            &lt;chr&gt;          &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;    </span>
<span class="co">#&gt; 1 MLRP_7UTD… https://… FALSE            2021-10-17T10… Email… LastNam… FirstNam…</span>
<span class="co">#&gt; 2 MLRP_5i0c… https://… FALSE            2021-10-17T10… Email… LastNam… FirstNam…</span>
<span class="co">#&gt; 3 MLRP_1M92… https://… FALSE            2021-10-17T10… Email… LastNam… FirstNam…</span>
<span class="co">#&gt; # … with 3 more variables: externalDataReference &lt;lgl&gt;, email &lt;chr&gt;,</span>
<span class="co">#&gt; #   unsubscribed &lt;chr&gt;</span>
</pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Pierre Souter.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
